<!DOCTYPE html>

<html>
<head>
  <title>Material List Test</title>

  <link rel="stylesheet" href="styles.css">
  <script src="bower_components/platform/platform.js"></script>
  <link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
  <link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
  <link rel="import" href="bower_components/core-selector/core-selector.html">
  <link rel="import" href="bower_components/core-icons/core-icons.html">
  <link rel="import" href="bower_components/core-icons/core-icons.html">
  <link rel="import" href="bower_components/paper-fab/paper-fab.html">
  <link rel="import" href="triple-text-item.html">
</head>

<body unresolved>
  
  <polymer-element name="app-element">
  
    <template>

      <style>    
        :host {
          box-sizing: border-box;
          background-color: #f0f0f0;
          width: 100%;
          height: 100%;
          margin: 0px;
          position: absolute;
          display: grid;
          grid-template-rows: Auto 1fr;
          grid-template-columns: 100%;
        }
        * {
          box-sizing: border-box;
        }
        #core_toolbar {
          grid-row: 1;
          height: 100%;
          width: 100%;
          background-color: #7070C0;
          box-shadow:  -5px -8px 15px 10px rgba(0, 0, 0, 0.5)
        }
        #content {
          grid-row: 2;
          height: 100%;
          width: 100%;
          /*padding: 10px;*/
          background-color: #F0F0FF;
          overflow: Auto;
        }
        .list {
          display: block;
          border: 1px solid #ccc;
          border-bottom: none;
          background: #E0E0F0;
          color: black;
          list-style: none;
          margin: 0;
          padding: 0;
        }
        .list > * {
          padding: 5px 20px;
          border-bottom: 1px solid #ccc;
        }
        .list > *.core-selected {
          background: #D0D0E0;
        }
        #refresh-fab {
          top: 50%;
          z-index: 1;
        }
      </style>
  
      <core-toolbar id="core_toolbar">
        <!--<core-icon-button icon="menu" id="core_icon_button"></core-icon-button>-->
        <div id="div" flex>Material List Test</div>
        <!--<paper-fab id='refresh-fab' icon="refresh" on-tap="{{handleRefreshTap}}"></paper-fab>-->
        <core-icon-button icon="refresh" id="refresh-button" on-tap="{{handleRefreshTap}}"></core-icon-button>
        <core-icon-button icon="drawer" id="menu_button"></core-icon-button>
      </core-toolbar>
      <core-selector class="list" selected="0" id='content'>
        <template repeat="{{items}}">
          <!--<div>Item: {{item.text}}</div>-->
          <template if="{{hasSettings}}">
            <triple-text-item text='{{text}}' subtext1='[Some text goes here]' subtext2='{{ipaddr}}'/>
          </template>
        </template>
      </core-selector>

    </template>
  
    <script>
      Polymer('app-element', { 
        items: [],
        
        ready: function() {
          // console.log('Ready...');
          this.items = [];
          var itemCount = 10 + Math.random() * 10;
          for (var i = 1; i <= itemCount; i++) {
            var demoText = 'Thing ' + i;
            var demoIP = '192.168.0.' + Math.round((Math.random() * 255));
            this.items.push({text: demoText, ipaddr: demoIP, hasSettings: true });
          }
        },
        handleRefreshTap: function() {
          // console.log('Refresh...');
          this.items = [];
          var itemCount = 10 + Math.random() * 10;
          for (var i = 1; i <= itemCount; i++) {
            var demoText = 'Thing ' + i;
            var demoIP = '192.168.0.' + Math.round((Math.random() * 255));
            var hasSettings = Math.round(Math.random());
            this.items.push({text: demoText, ipaddr: demoIP, hasSettings: hasSettings});
          }
        }
        // hasSettingsFilter: function(item) {
        //   console.log('Filtering: ' + item);
        //   return item;
        // }
      });
    </script>
  
  </polymer-element>
  
  <app-element></app-element>
    
</body>
</html>
